package com.innoventes.jukebox.test;

import com.google.gson.Gson;
import org.apache.commons.lang3.StringUtils;

public class TextParsing {

    String s = "    Directory: C:\\\\\\n\\n\\nMode                LastWriteTime         Length Name                          \\n----                -------------         ------ ----                          \\nd-----       11/29/2021   1:37 AM                pacbotcis                     \\n{\\n    \\\"domain\\\":  \\\"na.wkglobal.com\\\",\\n    \\\"osName\\\":  \\\"Microsoft Windows Server 2008 R2 Datacenter \\\",\\n    \\\"users\\\":  [\\n                  {\\n                      \\\"name\\\":  \\\"Anon000\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon001\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon002\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon003\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon004\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon005\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon006\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon007\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon008\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon009\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon010\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon011\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon012\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon013\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon014\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Ctx_ConfigMgr\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"ctx_cpuuser\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Ctx_StreamingSvc\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Guest\\\",\\n                      \\\"changedDate\\\":  null\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"VMCTXAdmin\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  }\\n              ],\\n    \\\"osVersion\\\":  \\\"6.1.7601\\\",\\n    \\\"benchmarkScore\\\":  null,\\n    \\\"swapTotal\\\":  \\\"8,189MB\\\",\\n    \\\"pendingSecurityUpdates\\\":  \\\"1\\\",\\n    \\\"swapFree\\\":  \\\"5,519MB\\\",\\n    \\\"runningAgents\\\":  \\\"McAfeeFramework,SnowInventoryAgent5,CSFalconService,opsramp-agent,WindowsAzureGuestAgent\\\"\\n}\\n\\";


    public static void main(String[] args) {
        String s = "    Directory: C:\\\\\\n\\n\\nMode                LastWriteTime         Length Name                          \\n----                -------------         ------ ----                          \\nd-----       11/29/2021   1:37 AM                pacbotcis                     \\n{\\n    \\\"domain\\\":  \\\"na.wkglobal.com\\\",\\n    \\\"osName\\\":  \\\"Microsoft Windows Server 2008 R2 Datacenter \\\",\\n    \\\"users\\\":  [\\n                  {\\n                      \\\"name\\\":  \\\"Anon000\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon001\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon002\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon003\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon004\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon005\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon006\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon007\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon008\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon009\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon010\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon011\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon012\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon013\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Anon014\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Ctx_ConfigMgr\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"ctx_cpuuser\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Ctx_StreamingSvc\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"Guest\\\",\\n                      \\\"changedDate\\\":  null\\n                  },\\n                  {\\n                      \\\"name\\\":  \\\"VMCTXAdmin\\\",\\n                      \\\"changedDate\\\":  \\\"10-30-2019\\\"\\n                  }\\n              ],\\n    \\\"osVersion\\\":  \\\"6.1.7601\\\",\\n    \\\"benchmarkScore\\\":  null,\\n    \\\"swapTotal\\\":  \\\"8,189MB\\\",\\n    \\\"pendingSecurityUpdates\\\":  \\\"1\\\",\\n    \\\"swapFree\\\":  \\\"5,519MB\\\",\\n    \\\"runningAgents\\\":  \\\"McAfeeFramework,SnowInventoryAgent5,CSFalconService,opsramp-agent,WindowsAzureGuestAgent\\\"\\n}\\n\\";
        Gson gson = new Gson();
        String response = s.replace("Enable succeeded:", "");
        response = response.replace("[stdout]", "");
        response = StringUtils.substringBefore(response, "[stderr]");
        response = response.trim();
        int index = response.indexOf("domain");
        response = "{\\\"" +  response.substring(index);
            System.out.println(response);

    }
}
